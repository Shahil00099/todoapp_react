{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Dashboard(_ref){let{username}=_ref;const[tasks,setTasks]=useState([]);const[taskTitle,setTaskTitle]=useState(\"\");const navigate=useNavigate();if(!username)navigate(\"/\");// Load user tasks\nconst loadTasks=async()=>{const res=await fetch(\"http://localhost:5000/tasks/\".concat(username));const data=await res.json();setTasks(data);};useEffect(()=>{loadTasks();},[]);// Add new task\nconst addTask=async()=>{if(!taskTitle.trim())return;const newTask={title:taskTitle,priority:\"Medium\",status:\"Pending\",created:new Date().toISOString().slice(0,10),details:\"\"};await fetch(\"http://localhost:5000/tasks/\".concat(username),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newTask)});setTaskTitle(\"\");loadTasks();};// Delete task\nconst deleteTask=async id=>{await fetch(\"http://localhost:5000/tasks/\".concat(username,\"/\").concat(id),{method:\"DELETE\"});loadTasks();};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome \",username]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add Task\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Task title\",value:taskTitle,onChange:e=>setTaskTitle(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Add Task\"}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"20px\"},children:\"Your Tasks\"}),tasks.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No tasks yet. Add your first task!\"}),tasks.map(t=>/*#__PURE__*/_jsxs(\"div\",{className:\"task-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:t.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",t.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Priority: \",t.priority]}),/*#__PURE__*/_jsx(\"div\",{className:\"task-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(t.id),children:\"Delete\"})})]},t.id))]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","Dashboard","_ref","username","tasks","setTasks","taskTitle","setTaskTitle","navigate","loadTasks","res","fetch","concat","data","json","addTask","trim","newTask","title","priority","status","created","Date","toISOString","slice","details","method","headers","body","JSON","stringify","deleteTask","id","className","children","placeholder","value","onChange","e","target","onClick","style","marginTop","length","map","t"],"sources":["Z:/react/todoapp/frontend/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Dashboard({ username }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [taskTitle, setTaskTitle] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  if (!username) navigate(\"/\");\r\n\r\n  // Load user tasks\r\n  const loadTasks = async () => {\r\n    const res = await fetch(`http://localhost:5000/tasks/${username}`);\r\n    const data = await res.json();\r\n    setTasks(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTasks();\r\n  }, []);\r\n\r\n  // Add new task\r\n  const addTask = async () => {\r\n    if (!taskTitle.trim()) return;\r\n\r\n    const newTask = {\r\n      title: taskTitle,\r\n      priority: \"Medium\",\r\n      status: \"Pending\",\r\n      created: new Date().toISOString().slice(0, 10),\r\n      details: \"\"\r\n    };\r\n\r\n    await fetch(`http://localhost:5000/tasks/${username}`, {\r\n      method: \"POST\",\r\n      headers: {\"Content-Type\": \"application/json\"},\r\n      body: JSON.stringify(newTask),\r\n    });\r\n\r\n    setTaskTitle(\"\");\r\n    loadTasks();\r\n  };\r\n\r\n  // Delete task\r\n  const deleteTask = async (id) => {\r\n    await fetch(`http://localhost:5000/tasks/${username}/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    loadTasks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>Welcome {username}</h2>\r\n\r\n      <h3>Add Task</h3>\r\n      <input\r\n        placeholder=\"Task title\"\r\n        value={taskTitle}\r\n        onChange={(e) => setTaskTitle(e.target.value)}\r\n      />\r\n      <button onClick={addTask}>Add Task</button>\r\n\r\n      <h3 style={{ marginTop: \"20px\" }}>Your Tasks</h3>\r\n\r\n      {tasks.length === 0 && (\r\n        <p>No tasks yet. Add your first task!</p>\r\n      )}\r\n\r\n      {tasks.map((t) => (\r\n        <div className=\"task-card\" key={t.id}>\r\n          <h4>{t.title}</h4>\r\n          <p>Status: {t.status}</p>\r\n          <p>Priority: {t.priority}</p>\r\n\r\n          <div className=\"task-actions\">\r\n            <button onClick={() => deleteTask(t.id)}>Delete</button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}