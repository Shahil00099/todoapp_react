{"ast":null,"code":"var _jsxFileName = \"Z:\\\\react\\\\todoapp\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\n// src/pages/Dashboard.js\nimport { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  username\n}) {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [taskTitle, setTaskTitle] = useState(\"\");\n  const [editingTask, setEditingTask] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Redirect to login if no username\n  useEffect(() => {\n    if (!username) {\n      navigate(\"/\");\n    }\n  }, [username, navigate]);\n\n  // Load user tasks\n  const loadTasks = useCallback(async () => {\n    if (!username) return;\n    try {\n      const res = await fetch(`http://localhost:5000/tasks/${username}`);\n      const data = await res.json();\n      setTasks(data);\n    } catch (err) {\n      console.error(\"Error loading tasks:\", err);\n    }\n  }, [username]);\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  // Add new task\n  const addTask = async () => {\n    if (!taskTitle.trim()) return;\n    const newTask = {\n      title: taskTitle,\n      priority: \"Medium\",\n      status: \"Pending\",\n      created: new Date().toISOString().slice(0, 10),\n      details: \"\"\n    };\n    await fetch(`http://localhost:5000/tasks/${username}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newTask)\n    });\n    setTaskTitle(\"\");\n    loadTasks();\n  };\n\n  // Delete task\n  const deleteTask = async id => {\n    await fetch(`http://localhost:5000/tasks/${username}/${id}`, {\n      method: \"DELETE\"\n    });\n    loadTasks();\n  };\n\n  // Start editing\n  const startEdit = task => {\n    setEditingTask(task.id);\n    setEditingTitle(task.title);\n  };\n\n  // Save edited task\n  const saveEdit = async id => {\n    await fetch(`http://localhost:5000/tasks/${username}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        title: editingTitle\n      })\n    });\n    setEditingTask(null);\n    setEditingTitle(\"\");\n    loadTasks();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Welcome \", username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-task\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Task title\",\n        value: taskTitle,\n        onChange: e => setTaskTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addTask,\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: \"Your Tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No tasks yet. Add your first task!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : tasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-card\",\n      children: editingTask === task.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: editingTitle,\n          onChange: e => setEditingTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => saveEdit(task.id),\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditingTask(null),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", task.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Priority: \", task.priority]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => startEdit(task),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteTask(task.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, task.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"cUj1m2NgmBUNs6bKnwNrux6w+os=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","useCallback","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","username","_s","tasks","setTasks","taskTitle","setTaskTitle","editingTask","setEditingTask","editingTitle","setEditingTitle","navigate","loadTasks","res","fetch","data","json","err","console","error","addTask","trim","newTask","title","priority","status","created","Date","toISOString","slice","details","method","headers","body","JSON","stringify","deleteTask","id","startEdit","task","saveEdit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","style","marginTop","length","map","_c","$RefreshReg$"],"sources":["Z:/react/todoapp/frontend/src/pages/Dashboard.js"],"sourcesContent":["// src/pages/Dashboard.js\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction Dashboard({ username }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [taskTitle, setTaskTitle] = useState(\"\");\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [editingTitle, setEditingTitle] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Redirect to login if no username\r\n  useEffect(() => {\r\n    if (!username) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [username, navigate]);\r\n\r\n  // Load user tasks\r\n  const loadTasks = useCallback(async () => {\r\n    if (!username) return;\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/tasks/${username}`);\r\n      const data = await res.json();\r\n      setTasks(data);\r\n    } catch (err) {\r\n      console.error(\"Error loading tasks:\", err);\r\n    }\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    loadTasks();\r\n  }, [loadTasks]);\r\n\r\n  // Add new task\r\n  const addTask = async () => {\r\n    if (!taskTitle.trim()) return;\r\n\r\n    const newTask = {\r\n      title: taskTitle,\r\n      priority: \"Medium\",\r\n      status: \"Pending\",\r\n      created: new Date().toISOString().slice(0, 10),\r\n      details: \"\",\r\n    };\r\n\r\n    await fetch(`http://localhost:5000/tasks/${username}`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(newTask),\r\n    });\r\n\r\n    setTaskTitle(\"\");\r\n    loadTasks();\r\n  };\r\n\r\n  // Delete task\r\n  const deleteTask = async (id) => {\r\n    await fetch(`http://localhost:5000/tasks/${username}/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    loadTasks();\r\n  };\r\n\r\n  // Start editing\r\n  const startEdit = (task) => {\r\n    setEditingTask(task.id);\r\n    setEditingTitle(task.title);\r\n  };\r\n\r\n  // Save edited task\r\n  const saveEdit = async (id) => {\r\n    await fetch(`http://localhost:5000/tasks/${username}/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ title: editingTitle }),\r\n    });\r\n    setEditingTask(null);\r\n    setEditingTitle(\"\");\r\n    loadTasks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>Welcome {username}</h2>\r\n\r\n      <div className=\"add-task\">\r\n        <input\r\n          placeholder=\"Task title\"\r\n          value={taskTitle}\r\n          onChange={(e) => setTaskTitle(e.target.value)}\r\n        />\r\n        <button onClick={addTask}>Add Task</button>\r\n      </div>\r\n\r\n      <h3 style={{ marginTop: \"20px\" }}>Your Tasks</h3>\r\n\r\n      {tasks.length === 0 ? (\r\n        <p>No tasks yet. Add your first task!</p>\r\n      ) : (\r\n        tasks.map((task) => (\r\n          <div className=\"task-card\" key={task.id}>\r\n            {editingTask === task.id ? (\r\n              <>\r\n                <input\r\n                  value={editingTitle}\r\n                  onChange={(e) => setEditingTitle(e.target.value)}\r\n                />\r\n                <button onClick={() => saveEdit(task.id)}>Save</button>\r\n                <button onClick={() => setEditingTask(null)}>Cancel</button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h4>{task.title}</h4>\r\n                <p>Status: {task.status}</p>\r\n                <p>Priority: {task.priority}</p>\r\n                <div className=\"task-actions\">\r\n                  <button onClick={() => startEdit(task)}>Edit</button>\r\n                  <button onClick={() => deleteTask(task.id)}>Delete</button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}